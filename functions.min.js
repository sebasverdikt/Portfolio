const grid=document.querySelector(".grid"),gridItems=document.querySelectorAll(".grid-item"),iso=new Isotope(grid,{itemSelector:".grid-item",sortBy:"random",percentPosition:!0,layoutMode:"packery",packery:{gutter:0}});imagesLoaded(grid).on("progress",()=>{iso.layout()});const filterButtons=document.querySelectorAll(".filters button");for(let i=0;i<filterButtons.length;i++)filterButtons[i].addEventListener("click",function(){let e=this.getAttribute("data-filter");iso.arrange({filter:e}),document.querySelector("#portfolio").className=e.substring(1)+"s",gridItems.forEach(e=>{e.classList.add("weightless")});let t=document.querySelectorAll(`.grid-item${e}`);t.forEach(e=>{e.classList.remove("weightless")}),iso.arrange(),this.classList.add("active");let n=getSiblings(this);n.forEach(e=>{e.classList.remove("active")})});function getSiblings(e){let t=[],n=e.parentNode.firstChild;for(;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}window.addEventListener("scroll",stickyFilters);const navFilters=document.getElementById("nav-filters"),back2top=document.getElementById("back2top"),sticky=navFilters.offsetTop;function stickyFilters(){window.pageYOffset>600?(navFilters.classList.add("sticky"),back2top.classList.add("b2t-on"),document.body.style.paddingTop="116px"):(navFilters.classList.remove("sticky"),back2top.classList.remove("b2t-on"),document.body.style.paddingTop="0px")}back2top.addEventListener("click",function(){window.scrollTo(0,0)});const offcanvasElementList=document.querySelectorAll(".offcanvas"),offcanvasList=[...offcanvasElementList].map(e=>new bootstrap.Offcanvas(e,{backdrop:!1})),offBtns=document.querySelector(".off-btns"),closBtn=offBtns.querySelector(".btn-clos"),nextBtn=offBtns.querySelector(".btn-next"),prevBtn=offBtns.querySelector(".btn-prev"),infoBtn=offBtns.querySelector(".btn-info");let activeOffcanvasId;document.addEventListener("show.bs.offcanvas",function(e){let t=e.target.id;activeOffcanvasId=t,offBtns.classList.add("on-btns");let n=document.querySelector(`#${activeOffcanvasId}`);n.classList.contains("btns-dark")?offBtns.classList.add("dark-btns"):offBtns.classList.remove("dark-btns"),n.querySelector(".modal")?infoBtn.style.display="":infoBtn.style.display="none"}),document.addEventListener("show.bs.offcanvas",function(){let e=document.querySelector(`#${activeOffcanvasId}`),t=e.querySelector(".carousel");if(!t.classList.contains("flickity-enabled")){var n=new Flickity(t,{fullscreen:!0,lazyLoad:!0,imagesLoaded:!0,prevNextButtons:!1,wrapAround:!0});let s=t.querySelectorAll(".carousel-cell-image");s.forEach(e=>{e.addEventListener("load",function(){let e=this.parentNode.querySelector(".spinner-border");e.style.display="none"}),e.addEventListener("click",function(e){e.stopPropagation(),n.next()})});let a=t.querySelectorAll(".carousel-cell"),o=[];a.forEach((t,n)=>{t.addEventListener("click",function(){let t=Offcanvas.getInstance(e);t.hide()});let s=document.createElement("div");s.classList="spinner-border position-absolute",t.appendChild(s),o[n]=s})}}),offBtns.addEventListener("click",e=>{let t=document.querySelector(`#${activeOffcanvasId}`),n=bootstrap.Offcanvas.getInstance(t),s=offcanvasList.findIndex(e=>e._element.id===activeOffcanvasId);if(e.target===closBtn)n.hide();else if(e.target===nextBtn){let a=(s+1)%offcanvasList.length,o=offcanvasList[a];n.hide(),o.show(),activeOffcanvasId=o._element.id}else if(e.target===prevBtn){let l=(s-1)%offcanvasList.length,r=offcanvasList[l];n.hide(),r.show(),activeOffcanvasId=r._element.id}else if(e.target===infoBtn){var c;new bootstrap.Modal(t.querySelector(".modal")).show()}}),document.addEventListener("click",function(e){let t=e.target.closest(".modal");if(t&&t.classList.contains("show")){let n=bootstrap.Modal.getInstance(t);n.hide()}}),document.addEventListener("hide.bs.offcanvas",function(){offBtns.classList.remove("on-btns")}),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key&&(document.querySelector(".btn-prev").click(),e.preventDefault()),"ArrowRight"===e.key&&(document.querySelector(".btn-next").click(),e.preventDefault())}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".preloader").style.display="none"}),document.cookie="SameSite=Strict; Domain=.imagekit.io";