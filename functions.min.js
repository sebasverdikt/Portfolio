const grid=document.querySelector(".grid"),gridItems=document.querySelectorAll(".grid-item"),iso=new Isotope(grid,{itemSelector:".grid-item",sortBy:"random",percentPosition:!0,layoutMode:"packery",packery:{gutter:0}});imagesLoaded(grid).on("progress",()=>{iso.layout()});const filterButtons=document.querySelectorAll(".filters button");for(let i=0;i<filterButtons.length;i++)filterButtons[i].addEventListener("click",function(){let e=this.getAttribute("data-filter");iso.arrange({filter:e}),document.querySelector("#portfolio").className=e.substring(1)+"s",gridItems.forEach(e=>{e.classList.add("weightless")});let t=document.querySelectorAll(`.grid-item${e}`);t.forEach(e=>{e.classList.remove("weightless")}),iso.arrange(),this.classList.add("active");let s=getSiblings(this);s.forEach(e=>{e.classList.remove("active")})});function getSiblings(e){let t=[],s=e.parentNode.firstChild;for(;s;s=s.nextSibling)1===s.nodeType&&s!==e&&t.push(s);return t}window.addEventListener("scroll",stickyFilters);const navFilters=document.getElementById("nav-filters"),back2top=document.getElementById("back2top"),sticky=navFilters.offsetTop;function stickyFilters(){window.pageYOffset>600?(navFilters.classList.add("sticky"),back2top.classList.add("b2t-on"),document.body.style.paddingTop="116px"):(navFilters.classList.remove("sticky"),back2top.classList.remove("b2t-on"),document.body.style.paddingTop="0px")}back2top.addEventListener("click",function(){window.scrollTo(0,0)});const offcanvasElementList=document.querySelectorAll(".offcanvas"),offcanvasList=[...offcanvasElementList].map(e=>new bootstrap.Offcanvas(e,{backdrop:!1})),offBtns=document.querySelector(".off-btns"),closBtn=offBtns.querySelector(".btn-clos"),nextBtn=offBtns.querySelector(".btn-next"),prevBtn=offBtns.querySelector(".btn-prev"),infoBtn=offBtns.querySelector(".btn-info");let activeOffcanvasId;document.addEventListener("show.bs.offcanvas",function(e){let t=e.target.id;activeOffcanvasId=t,offBtns.classList.add("on-btns");let s=document.querySelector(`#${activeOffcanvasId}`);s.classList.contains("btns-dark")?offBtns.classList.add("dark-btns"):offBtns.classList.remove("dark-btns"),s.querySelector(".modal")?infoBtn.style.display="":infoBtn.style.display="none"}),document.addEventListener("shown.bs.offcanvas",function(){let e=document.querySelector(`#${activeOffcanvasId}`),t=e.querySelector(".carousel");if(!t.classList.contains("flickity-enabled")){var s=new Flickity(t,{fullscreen:!0,lazyLoad:!0,imagesLoaded:!0,prevNextButtons:!1,wrapAround:!0});let n=t.querySelectorAll(".carousel-cell-image");n.forEach(e=>{e.addEventListener("click",function(e){e.stopPropagation(),s.next()})});let a=t.querySelectorAll(".carousel-cell");a.forEach(t=>{t.addEventListener("click",function(){let t=bootstrap.Offcanvas.getInstance(e);t.hide()})})}}),offBtns.addEventListener("click",e=>{let t=document.querySelector(`#${activeOffcanvasId}`),s=bootstrap.Offcanvas.getInstance(t),n=offcanvasList.findIndex(e=>e._element.id===activeOffcanvasId);if(e.target===closBtn)s.hide();else if(e.target===nextBtn){let a=(n+1)%offcanvasList.length,o=offcanvasList[a];s.hide(),o.show(),activeOffcanvasId=o._element.id}else if(e.target===prevBtn){let l=(n-1)%offcanvasList.length,r=offcanvasList[l];s.hide(),r.show(),activeOffcanvasId=r._element.id}else if(e.target===infoBtn){var c;new bootstrap.Modal(t.querySelector(".modal")).show()}}),document.addEventListener("click",function(e){let t=e.target.closest(".modal");if(t&&t.classList.contains("show")){let s=bootstrap.Modal.getInstance(t);s.hide()}}),document.addEventListener("hide.bs.offcanvas",function(){offBtns.classList.remove("on-btns")}),document.addEventListener("keydown",function(e){"ArrowLeft"===e.key&&(document.querySelector(".btn-prev").click(),e.preventDefault()),"ArrowRight"===e.key&&(document.querySelector(".btn-next").click(),e.preventDefault())}),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".preloader").style.display="none"}),document.cookie="SameSite=Strict; Domain=.imagekit.io";